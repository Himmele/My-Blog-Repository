window.StackExchange={};if(top!=self){top.location.replace(document.location);alert("For security reasons, framing is not allowed; click OK to remove the frames.")}StackExchange.init=(function(){var c=function(e){if(!window.jQuery){if(document.readyState!="complete"){setTimeout(function(){c(e)},1000);return}var d=document.createElement("div");d.id="noscript-padding";var f=document.createElement("div");f.id="noscript-warning";f.innerHTML=e+" works best with jQuery enabled";document.body.insertBefore(d,document.body.firstChild);document.body.appendChild(f)}};var a=function(){$(document).keyup(function(d){if(d.which==27){$("#lightbox, .error-notification, .popup, .post-moderator-menu, .share-tip").fadeOutAndRemove();if(genuwine.isVisible()){genuwine.click()}profileLink.hide()}})};return function(d){StackExchange.options=d;c(d.site.name);$.ajaxSetup({cache:false});StackExchange.init.createJqueryExtensions();if(!d.site.globalAuthDisabled){if(!d.site.isChildMeta&&d.user.isAnonymous){gauth.checkStackAuth(d.stackAuthUrl)}gauth.informStackAuth(d.stackAuthUrl)}$(function(){genuwine.init(d.user.guid||null,d.user.inboxUnviewedCount);a();if(d.user.messages){StackExchange.notify.showMessages(d.user.messages)}if(d.user.isAnonymous){StackExchange.notify.showFirstTime(d.site.description)}StackExchange.tags.init()})}})();StackExchange.ready=function(a){$(a)};StackExchange.debug={log:function(a){},init:function(){this.log=function(a){$(function(){var c=$("#debug-messages");if(!c.length){c=$("<div id='debug-messages' style='text-align:left;position:fixed;top:50px;left:50px;z-index:1000;background:white;border:2px solid black;width:300px;padding:10px;' />").append($("<span style='cursor:pointer;color:#999'>(close debug messages)</span>").click(function(){$("#debug-messages").remove()})).appendTo("body")}$("<div style='margin-top:10px' />").text(a).appendTo(c)})}}};StackExchange.using=(function(){var g={prettify:"prettify-full.js",pseudoModerator:"moderator.js"},e={},c={},d,a={};var f=function(p,o){return function(q){var r=p[q];if(!r){r=p[q]=o(q)}return r}};var j=function(){if(!d){var o=$("script[src*='/master.']:first");if(o.length==0){StackExchange.debug.log("couldn't figure out location of master.js");d="/content/js/"}else{d=o.attr("src").replace(/\/master\..*$/,"/")}}return d};var h=function(p){var o=a["js/"+p];if(!o){StackExchange.debug.log("no cache breaker for "+p);return""}return"?v="+o};var l=function(p){var o=g[p];if(!o){return $.Deferred().reject().promise()}return i(o)};var i=f(c,function(o){return $.ajax({url:j()+o+h(o),dataType:"script",cache:true}).promise()});var k=f(e,function(p){var o=$.Deferred(),q=StackExchange[p];if(q){o.resolve(q)}else{l(p).done(function(){o.resolve(StackExchange[p])}).fail(o.reject)}return o.promise()});var n=function(p,o){k(p).done(function(q){o.apply(q)}).fail(function(){StackExchange.debug.log("failed to provide object "+p)})};n.setCacheBreakers=function(o){a=o};return n})();String.prototype.format=function(){var d=this.toString();if(!arguments.length){return d}var c=typeof arguments[0]=="string"?arguments:arguments[0];for(var a in c){d=d.replace(new RegExp("\\{"+a+"\\}","gi"),c[a])}return d};StackExchange.init.createJqueryExtensions=function(){var a=StackExchange.helpers;$.fn.extend({fadeOutAndRemove:function(c){return this.each(function(){var d=$(this);d.fadeOut("fast",function(){d.trigger("removing").remove()})})},charCounter:function(c){return this.each(function(){$(this).bind("blur focus keyup",function(){var i=c.min;var h=c.max;var f=c.setIsValid||function(){};var e=this.value?this.value.length:0;var d=e>h*0.8?"supernova":e>h*0.6?"hot":e>h*0.4?"warm":"cool";var j="";if(e==0){j="enter at least "+i+" characters";f(false)}else{if(e<i){j=(i-e)+" more to go..";f(false)}else{j=(h-e)+" character"+(h-e!=1?"s":"")+" left";f(e<=h)}}var g=$(this).parents("form").find("span.text-counter");g.text(j);if(!g.hasClass(d)){g.removeClass("supernova hot warm cool").addClass(d)}})})},selectRange:function(d,c){return this.each(function(){if(this.setSelectionRange){this.focus();this.setSelectionRange(d,c)}else{if(this.createTextRange){var e=this.createTextRange();e.collapse(true);e.moveEnd("character",c);e.moveStart("character",d);e.select()}}})},addSpinner:function(c){return this.each(function(){a.addSpinner(this,c)})},addSpinnerAfter:function(c){return this.each(function(){$(this).after(a.getSpinnerImg(c))})},showErrorPopup:function(d,c){return this.each(function(){a.showErrorPopup(this,d,c)})},center:function(){this.css("position","absolute");this.css("top",($(window).height()-this.height())/2+$(window).scrollTop()+"px");this.css("left",($(window).width()-this.width())/2+$(window).scrollLeft()+"px");return this},helpOverlay:function(){a.bindHelpOverlayEvents(this);return this},hideHelpOverlay:function(){a.hideHelpOverlay(this);return this},enable:function(){if(arguments.length==0||arguments[0]){this.removeAttr("disabled").css("cursor","pointer")}else{this.attr("disabled","disabled").css("cursor","default")}return this},disable:function(){return this.enable(false)},loadPopup:function(d){var c=this;c.addSpinnerAfter({padding:"0 3px"});$.ajax({type:"GET",url:d.url,dataType:"html",success:function(e){var f=$(e);f.find(".popup-actions-cancel, .popup-close a").click(function(){f.fadeOutAndRemove()});f.find("input:radio[disabled=disabled] + label.action-label").addClass("action-disabled");if(d.hideDescriptions){f.find("ul.action-list > li:not(.action-selected) .action-desc").hide()}var g=f.find("input:radio:not(.action-subform input)");g.closest("li").bind("hide-action",function(){var k=$(this);var j=".action-subform"+(d.hideDescriptions?", .action-desc":"");k.removeClass("action-selected").find(j).slideUp("fast")}).bind("show-action",function(){var j=$(this);if(j.hasClass("action-selected")){return}j.siblings(".action-selected").trigger("hide-action");j.addClass("action-selected").find(".action-subform").slideDown("fast",function(){if(d.subformShow){d.subformShow($(this))}if(d.subformFocusInput){var k=$(this).find("input[type=text], textarea").not(".actual-edit-overlay").eq(0);if(k.length){k.focus()}}});if(d.hideDescriptions){j.find(".action-desc").slideDown("fast")}if(d.actionSelected){d.actionSelected(j)}f.find(".popup-submit").enable()});g.click(function(){$(this).closest("li").trigger("show-action")});f.appendTo(c.parent());if(d.loaded){d.loaded(f)}var h=function(){};if(d.subformShow){var i=f.find("li.action-selected .action-subform");if(i.length>0){h=function(){i.each(function(){d.subformShow($(this))})}}}f.center().fadeIn("fast",h)},error:function(){c.parent().showErrorPopup("Unable to load popup - please try again")},complete:a.removeSpinner});return c}})};StackExchange.helpers=(function(){var c=function(g){return g.parent().find("span.edit-field-overlay")};function a(k,l,n){for(var h=0;h<n.lenght;h++){var j=n[h];try{l.css(j,k.css(j))}catch(g){}}}function f(j,h){if(!j.is(":visible")){return}if(j.val().length!=0){j.css("opacity",1).css("filter","").removeClass("edit-field-overlayed");return}else{j.css("opacity",h?0.5:0.3);j.addClass("edit-field-overlayed")}var g=j.prev(".actual-edit-overlay");if(g.length==0){var i=c(j).text();g=j.clone().attr("class","actual-edit-overlay").attr("name",null).attr("id",null).attr("disabled","disabled").val(i).css({position:"absolute",backgroundColor:"white",color:"black",opacity:1,width:j.width(),height:j.height()});a(j,g,["font-family","font-size","line-height","text-align"]);j.css({zIndex:1,position:"relative"});g.insertBefore(j);var p=j.offset().top-g.offset().top;if(p!=0){var n=parseInt(g.css("margin-top"));var k=n+p;if(!j.is("textarea")){k=parseInt(g.prevAll(":visible").eq(0).css("margin-bottom"))+n}g.css("margin-top",k)}var o=j.offset().left-g.offset().left;if(o!=0){var l=parseInt(g.css("margin-left"));g.css("margin-left",l+o)}}}function e(g,h){$(g).find("input[type='submit']").attr("disabled",h?"disabled":"")}var d={bindHelpOverlayEvents:function(g){g.bind("keydown contextmenu",function(){d.hideHelpOverlay($(this))}).focus(function(){f($(this),true)}).blur(function(){f($(this))}).each(function(){f($(this))})},hideHelpOverlay:function(g){g.css("opacity",1);g.css("filter","");g.removeClass("edit-field-overlayed")},onClickDraftSave:function(g){$(g).click(function(){var h=this.href;if(!heartbeat.draftSaved()){heartbeat.ping(function(){window.onbeforeunload=null;window.location.href=h});return false}window.onbeforeunload=null;return true});return true},showErrorPopup:function(g,j,h){var i=$('<div class="error-notification supernovabg"><h2>'+j+"</h2>"+(h?"":"(click on this box to dismiss)")+"</div>");var k=function(){i.fadeOutAndRemove()};$(g).append(i);i.click(k).fadeIn("fast");setTimeout(k,(h?Math.max(2500,j.length*40):1000*30))},addSpinner:function(g,h){$(g).append(d.getSpinnerImg(h))},getSpinnerImg:function(g){var h=$('<img class="ajax-loader" src="/content/img/progress-dots.gif" title="loading..." alt="loading..." />');if(g){h.css(g)}return h},removeSpinner:function(){$("img.ajax-loader").remove()},enableSubmitButton:function(g){e(g,false)},disableSubmitButton:function(g){e(g,true)},loadTicks:function(){var g=$("#edit-block");if(g.find("input[name=i1l]").length==0){$.get("/questions/ticks",function(h){g.append("<input type='hidden' name='i1l' value='"+h+"' />")})}}};return d})();var gauth=function(){return{informStackAuth:function(f){if(!gauth.enabled()){return}var d=document.domain;if(d.substr(0,5)=="meta."){d=d.substr(4,d.length-4)}var g=$.cookie("gauth");if(g==null){$.cookie("gauth",null,{path:"/",domain:d});return}if(d.charAt(0)!="."){d="."+d}$.cookie("gauth",null,{path:"/",domain:d});var c=g.indexOf(":");var a=g.substr(0,c);var e=g.substr(c+1);var h=f+"/auth/global/write?authToken="+encodeURIComponent(a)+"&nonce="+encodeURIComponent(e);$(document).ready(function(){$("#footer").append("<iframe style='display:none' src='"+h+"'></iframe>")})},checkStackAuth:function(d){if(!gauth.enabled()){return}var a=$.cookie("gauthed");if(a!=null){return}$.cookie("gauthed","1",{path:"/"});var c=function(f){var h=f.origin;if(h!=d){return}if(f.data=="No Local Storage"){gauth.noGAuthStorage();return}if(f.data=="No Session"){gauth.noGAuthSession();return}var i=f.data.substr(0,f.data.indexOf(","));var g=f.data.substr(f.data.indexOf(",")+1);$.post("/users/login/global",{authToken:i,nonce:g},function(e,k,j){gauth.globallyAuthed(e)},"json")};if(window.attachEvent){window.attachEvent("onmessage",c)}else{window.addEventListener("message",c,false)}$.post("/users/login/global/request","",function(e,f,h){var g=d+"/auth/global/read?request="+encodeURIComponent(e.token)+"&nonce="+encodeURIComponent(e.nonce);$(document).ready(function(){$("#footer").append("<iframe id='global-auth-frame' style='display:none' src='"+g+"'></iframe>")})},"json")},enabled:function(){$.cookie("enabledCheck","1");if($.cookie("enabledCheck")==null){return false}$.cookie("enabledCheck",null);if(typeof(localStorage)=="undefined"){return false}return true},noGAuthStorage:function(){},noGAuthSession:function(){},closeGAuthNotification:function(){var a=$("#overlay-header");a.animate({opacity:"0",height:"hide"},"fast",function(){a.css("z-index",-4)})},globallyAuthed:function(h){if(h==undefined||h.Message==undefined){return}var c=""+window.location;var f="/users/login";var k=false;var d=c.indexOf("returnurl=");var l=null;if(d!=-1){var e=c.indexOf("&",d);if(e==-1){e=c.length}l=decodeURIComponent(c.substring(d+"returnurl=".length,e))}if(c.indexOf(f)!=-1){k=true;if(l==null){l="/"}}var a="color: #999;cursor: pointer;font-size: 10px;font-weight: normal;";var g=h.Message;if(k){g+='<br><span id="ga_loaded">You are being redirected</span>'}else{if(l==null){g+='  <a href="javascript:location.reload(true)">Click here</a> to refresh the page.'}else{g+='  <a style="'+a+'" href="javascript:window.location=\''+l+"'\">Return</a>"}}if(!k){g+='<br><a style="'+a+'" href="javascript:gauth.closeGAuthNotification()">close this message</a>'}if($.browser.msie){$("#overlay-header").css("background","#FFF").css("opacity","0")}$("#overlay-header").html(g).css("z-index",250).animate({opacity:"1",height:"show"},{duration:"slow",complete:function(){if(k){window.location=l}}})}}}();var genuwine=function(){var v;var t="";var i;var j=function(){return $(".genu").hasClass("genu-on")};var d=function(){var w=$(".genu");var y=$("#seWrapper");if(y.length==0){c();y=$("#seWrapper");var x;if(i>0){x=$("#seTabInbox");g(x)}else{x=$("#seTabHot");f(x)}x.addClass("seCurrent")}var z=w.hasClass("genu-on");if(z){$(".unreadCountTab").hide();$(".itemBoxNew").removeClass("itemBoxNew");y.fadeOut("fast")}else{y.fadeIn("fast");$(".unreadCount").hide()}w.toggleClass("genu-on",!z);if(i==-1){$(w).ready(function(){$("#seTabInbox").hide()})}};var c=function(){var w='<div id="seWrapper" style="position:absolute; display:none;"><div class="seIntro"><a href="'+t+'">Stack Exchange</a> is a network of free, community-driven Q&A sites.</div><div class="seNav"><ul class="seNavLinks"><li><a id="seTabHot">Hot Questions</a></li><li><a id="seTabSites">All Sites</a></li><li><a id="seTabInbox">Inbox</a></li></ul></div><div class="seContainer"></div><div class="seFooter"><a>close</a></div></div>';$(w).appendTo("#portalLink").find("ul.seNavLinks a").click(function(){u($(this))});$(".seFooter").live("click",d)};var u=function(w){$(".seNavLinks a").removeClass("seCurrent");w.addClass("seCurrent");switch(w.attr("id")){case"seTabHot":f(w);$("#seContainerSites, #seContainerInbox").hide();$("#seContainerHot").fadeIn("fast");break;case"seTabSites":h(w);$("#seContainerHot, #seContainerInbox").hide();$("#seContainerSites").fadeIn("fast");break;case"seTabInbox":g(w);$("#seContainerHot, #seContainerSites").hide();$("#seContainerInbox").fadeIn("fast");break}};var f=function(w){if($("#seContainerHot").length==0){l(w)}};var l=function(w){k(w,t+"/genuwine?callback=?","jsonp",q)};var q=function(A,C){var w=$("<div/>");var y='<div id="seContainerHot" style="display:none">';for(var z=0;z<C.length;z++){var B=C[z];var E=B.SiteId;var x='href="http://'+E+"/questions/"+B.Id+'"';var D=parseInt(B.DisplayScore,10);y+='<div class="itemBox"><a '+x+' class="seNumAnswer">'+D+'</a><div class="siteInfo"><p><a '+x+">"+w.text(B.Title).html()+'</a></p><a href="http://'+E+'" class="siteLink">'+E+"</a></div></div>"}y+="</div>";p(A,y)};var h=function(w){if($("#seContainerSites").length==0){o(w)}};var o=function(x){var w=document.location.host;k(x,t+"/genuwine/sites?callback=?&host="+w+(!!v?("&guid="+v):""),"jsonp",s)};var s=function(z,C){var x='<div id="seContainerSites" style="display:none">';for(var y=0;y<C.length;y++){var B=C[y];var A=B.Name;var w='href="http://'+B.Id+'"';x+='<div class="itemBox"><a '+w+' class="siteFavicon"><img src="'+B.FaviconUrl+'" alt="'+A+'"></a><div class="siteInfo"><p><a '+w+">"+A+"</a></p><a "+w+' class="siteLink">'+B.Description+"</a></div></div>"}x+="</div>";p(z,x)};var g=function(w){if(i==-1){return}if($("#seContainerInbox").length==0){n(w)}if(i>0&&w.find(".unreadCountTab").length==0){w.prepend('<span class="unreadCountTab">'+i+"</span>")}};var n=function(w){k(w,"/inbox/genuwine","json",r,true)};var r=function(D,A){var y='<div id="seContainerInbox" style="display:none">';for(var z=0;z<A.length;z++){var C=A[z];var x='href="'+C.Url+'"';var E='title="'+C.CreationDate+'"';var w=C.Count;var B=C.IsNew?" itemBoxNew":"";if(C.Type!="careers message"){y+='<div class="itemBox'+B+'"><a '+x+' class="siteLinkFavicon"><img src="'+C.FaviconUrl+'" alt="'+C.SiteUrl+'"></a><div class="siteInfo"><p>'+(w>1?w+" ":"")+C.Type+" on <a "+x+" "+E+">"+C.Title+'</a></p><p class="inboxSummary">'+(C.Summary||"")+"</p></div></div>"}else{y+='<div class="itemBox'+B+'"><a '+x+' class="siteLinkFavicon"><img src="'+C.FaviconUrl+'" alt="'+C.SiteUrl+'"></a><div class="siteInfo"><p><a '+x+' style="font-weight:normal"><b>'+C.Title+'</b> wants to contact you on <b>Stack Overflow Careers</b></a></p><p class="inboxSummary">'+(C.Summary||"")+"</p></div></div>"}}if(v&&A.length>=5){y+='<div class="itemMoreContainer"><div class="seIntro"><a href="http://stackexchange.com/users/'+v+'?tab=inbox">more inbox messages &hellip;</a></div></div>'}y+="</div>";p(D,y)};var e={};var k=function(y,C,w,A,x){var B=y.attr("id");if(e[B]){a();return}e[B]=true;a();var z=function(){e[B]=false;StackExchange.helpers.showErrorPopup($(".seContainer"),"An error occurred while loading - please try again.")};$.ajax({type:"GET",url:C,dataType:w,success:function(D){if(D&&(D.length>0||x)){A(y,D)}else{z()}},error:z,complete:StackExchange.helpers.removeSpinner})};var p=function(y,w){var x=$(w);x.appendTo(".seContainer");if(y.hasClass("seCurrent")){x.fadeIn("fast")}};var a=function(){StackExchange.helpers.removeSpinner();StackExchange.helpers.addSpinner(".seContainer",{position:"relative",left:"10px",top:"10px"})};return{isVisible:j,click:d,init:function(w,y){var x=$(".genu");v=w;t=x.attr("href");i=y;x.removeAttr("href").add(".unreadCount").click(d);$(document).click(function(z){if(j()&&!$.contains($("#portalLink")[0],z.target)){d()}})}}}();var profileLink=function(){var h;var d;var e;var j;var c;var f=false;var a;var g;var i;var q=function(){return $(".profile-link")};var r=function(){return $(".profile-triangle")};var p=function(){return $(".profile-popup")};var u=function(y){if(!y){y=q()}return y.hasClass("profile-link-on")};var w=function(y,z){z.toggleClass("profile-link-on",y);r().toggleClass("profile-triangle-on",y)};var k=function(y){var z=$('<div class="profile-popup" style="position:absolute; display:none;"><div class="profile-wrapper"><div class="profile-gravatar"><a href="'+h+'">'+d+'</a><ul class="profile-links"><li><a href="'+a+'">activity</a></li>'+(y.hasClass("child-meta")?"":'<li><a href="/privileges">privileges</a></li>')+'<li><a href="/users/logout">logout</a></li></ul></div><div class="profile-stats"></div><div class="profile-footer"><span class="popup-clock"></span> <a>close</a></div></div></div>');z.insertBefore(y).find(".profile-footer").click(profileLink.click);if(!f){n(z)}return z};var v=function(y){if(y.data("loading")){return}y.data("loading",true);var z=y.find(".profile-stats");z.addSpinner();$.ajax({type:"GET",url:"/users/profile-link-stats",dataType:"html",success:function(A){$(A).hide().appendTo(z).fadeIn("fast")},error:function(B,C,A){y.data("loading",false)},complete:StackExchange.helpers.removeSpinner})};var o=function(){var A=new Date();A.setTime(A.getTime()+i*1000);var y=A.getUTCHours(),z=A.getUTCMinutes();if(y<10){y="0"+y}if(z<10){z="0"+z}$(".profile-popup .popup-clock").text("UTC time "+y+":"+z)};var l=function(){if(c){return}c=setInterval(o,20000);o()};var x=function(){if(!c){return}clearInterval(c);c=null};var t=function(){if(e){clearTimeout(e);e=null}j=setTimeout(profileLink.show,450)};var s=function(){if(j){clearTimeout(j);j=null}e=setTimeout(profileLink.hide,1000)};var n=function(y){y.hover(t,s)};return{init:function(z,A,y,C){var B=q(),D=r();h=B.attr("href");d=z;f=A;a=y;i=C||0;D.click(profileLink.click);if(!A){n(B.add(D))}$(document).click(function(E){if(u(B)&&E.target!=B[0]&&E.target!=D[0]&&!$.contains($(".profile-wrapper")[0],E.target)){profileLink.hide()}})},click:function(){var y=q();clearTimeout(e);e=null;clearTimeout(j);j=null;if(u(y)){profileLink.hide()}else{profileLink.show()}},show:function(y,z){if(!y||typeof y=="number"){y=q()}if(!z){z=p()}if(!z.length){z=k(y)}if(!u(y)){z.fadeIn("fast");v(z);w(true,y);g=new Date()}l()},hide:function(y,z){if(!g||new Date().getTime()-g.getTime()<500){return}if(!y||typeof y=="number"){y=q()}if(!z){z=p()}if(u(y)){z.fadeOut("fast");w(false,y)}x()}}}();function moveScroller(){var c=$("#scroller").width();var a=function(){var f=$(window).scrollTop();var d=$("#scroller-anchor").offset().top;var e=$("#scroller");if(f>d){e.css({position:"fixed",top:"0px",width:c})}else{if(f<=d){e.css({position:"relative",top:""})}}};$(window).scroll(a);a()}var styleCode=(function(){function a(d){var c=$("#prettify-lang").text();if(c!=""){d.addClass(c);return true}return false}return function(){if(typeof MathJax!="undefined"){MathJax.Hub.Queue(["Typeset",MathJax.Hub])}var c=false;$("pre code").parent().each(function(){if(!$(this).hasClass("prettyprint")){if(a($(this))){$(this).addClass("prettyprint");c=true}}if($(this).hasClass("prettyprint-override")){$(this).removeClass("prettyprint-override").addClass("prettyprint");c=true}});if(c){if(typeof jtab!="undefined"){jtab.renderimplicit();return}StackExchange.using("prettify",function(){StackExchange.prettify.applyCodeStyling()})}}})();StackExchange.notify=function(){var g=0;var e=-1;var d="m";var c=function(l){var k=$("#notify-"+l);var n=0;if(l==e){h()}else{if(l>e){$.post("/messages/mark-as-read",{messagetypeid:l})}}if(--g>0){n=parseInt($("body").css("margin-top").match(/\d+/));n=n-(n/(g+1))}k.fadeOut("fast",function(){$("body").animate({marginTop:n+"px"},"fast","linear");k.remove()})};var a=function(n){var k="<div"+(n.messageTypeId?' id="notify-'+n.messageTypeId+'"':"")+' style="display:none"><span class="notify-close"><a title="dismiss this notification">&times;</a></span><span class="notify-text">'+n.text+"</span>";if(n.showProfile){var o=escape("/users/"+n.userId);k+=' See your <a href="/messages/mark-as-read?messagetypeid='+n.messageTypeId+"&returnurl="+escape(o)+'">profile</a>.'}k+="</div>";var l=$(k);l.find(".notify-close").click(function(){c(n.messageTypeId)});$("#notify-container").append(l)};var h=function(k){$.cookie(d,(k?k:"0"),{expires:90,path:"/"})};var j=function(){var k=parseInt($.cookie(d));if(isNaN(k)){k=0}if(k<5){$(".module.newuser").show();h(++k)}};var i=function(){$("#notify-container div").fadeIn("slow")};var f=function(){$("body").animate({marginTop:"2.5em"},"fast","linear")};return{showFirstTime:function(k){if($.cookie(d)){j()}else{$(".module.newuser").show();if(!/\/users\/(login|authenticate)/i.test(window.location)){f();a({messageTypeId:e,text:"Welcome to "+k+' &mdash; check out the <a onclick="StackExchange.notify.closeFirstTime(); return false;" href="/faq">FAQ</a>!'});i()}}},showMessages:function(l){g=l.length;for(var k=0;k<g;k++){a(l[k])}i()},show:function(k,l){f();a({text:k,messageTypeId:l});i()},close:c,closeFirstTime:function(){h();document.location="/faq"},getMessageText:function(k){return $("#notify-"+k+" .notify-text").text()}}}();StackExchange.tags=(function(){var e=function(k){var l="";var n="";k.each(function(){var o=false;n=$(this).text();if(n.indexOf("#")>-1){n=n.replace(/#/g,"ñ")}if(n.indexOf("+")>-1){n=n.replace(/\+/g,"ç")}if(n.indexOf(".")>-1){n=n.replace(/\./g,"û")}if(n.indexOf("*")>-1){o=true}if(o){l+="div.tags:regex(class, t-"+n.replace(/\*/g,".*")+"),"}else{l+="div.t-"+n+","}});if(l.length>0){l=l.substring(0,l.length-1)}return l};function h(l,o,k){var n="";if(typeof forUserId!="undefined"){n=forUserId}$.post("/users/save-preference",{fkey:StackExchange.options.user.fkey,key:l,value:o,forUserId:n},k)}var i=function(t,r,q,s,o,k){var u=$(t).val();var v=sanitizeAndSplitTags(u,true);var l=false;for(var p=0;p<v.length;p++){if($.trim(v[p]).length!=0){$(r).children().each(function(){if($(this).text()==v[p]){$(this).fadeTo(500,0.1).fadeTo(500,1);l=true;return}});if(!l){var n=$.URLEncode(v[p]);$(r).append('<a id="'+v[p]+'" href="/questions/tagged/'+n+'" class="'+s+'" title="show questions tagged \''+v[p]+"'\">"+v[p]+"</a> ");f(q)}l=false}}$(t).val("");if(o){$(t).focus()}if(!k){h(q,$(r).text())}a()};var f=function(l){var k="<span class=\"delete-tag\" onmouseover=\"$(this).attr('class', 'delete-tag-hover')\" onmouseout=\"$(this).attr('class', 'delete-tag')\" title=\"remove this tag\"></span>";if(l==0){$("#ignoredTags > .post-tag").after(k)}if(l==25){$("#ignoredTags > .post-tag:last").after(k)}$("#ignoredTags > .delete-tag").click(function(){$(this).prev().remove();$(this).remove();h(25,$("#ignoredTags").text());a()});if(l==0){$("#interestingTags > .post-tag").after(k)}if(l==20){$("#interestingTags > .post-tag:last").after(k)}$("#interestingTags > .delete-tag").click(function(){$(this).prev().remove();$(this).remove();h(20,$("#interestingTags").text());a()})};var a=function(r,k){var s=$("#ignoredTags > a");var u=$("#interestingTags > a");var t=$("#inferredTags > a");if(r&&s.length==0&&u.length==0&&t.length==0){return}$("div.question-summary").removeClass("tagged-ignored tagged-ignored-hidden tagged-interesting");var o=e(s);var q=e(u);var p=e(t);if(k){for(var l=0;l<k.length;l++){var w=k[l];if(w.indexOf("#")>-1){w=w.replace(/#/g,"ñ")}if(w.indexOf("+")>-1){w=w.replace(/\+/g,"ç")}if(w.indexOf(".")>-1){w=w.replace(/\./g,"û")}var v=new RegExp("div.t-"+w+"(,|$)","g");o=o.replace(v,"");q=q.replace(v,"");p=p.replace(v,"")}}if(o.length>0){var n=$("#hideIgnored").is(":checked")?"tagged-ignored-hidden":"tagged-ignored";$(o).closest("div.question-summary").addClass(n)}if(q.length>0){$(q).closest("div.question-summary").addClass("tagged-interesting")}if(p.length>0){$(p).closest("div.question-summary").addClass("tagged-interesting")}};var d=function(l,o){var k=$("#tag-menu");if($("#interestingTags").length>0){if(o){var n=$("#interestingTags a").filter(function(){return $(this).text()==l});n.add(n.next()).remove();a()}else{$("#interestingTag").val(l);i("#interestingTag","#interestingTags",20,"post-tag",false,true)}}StackExchange.helpers.addSpinner(k);$.ajax({type:"POST",url:"/tags/"+encodeURIComponent(l)+"/favorite",data:{unfavorite:o,fkey:StackExchange.options.user.fkey},dataType:"html",success:function(p){c(k.html($(""+p)),l)},error:function(q,r,p){},complete:StackExchange.helpers.removeSpinner})};var j=function(l,n){var k=$("#tag-menu");StackExchange.helpers.addSpinner(k);$.ajax({type:"POST",url:"/tags/"+encodeURIComponent(l)+"/subscription",data:{unsubscribe:n,fkey:StackExchange.options.user.fkey},dataType:"html",success:function(o){c(k.html($(""+o)),l)},error:function(p,q,o){},complete:StackExchange.helpers.removeSpinner})};var c=function(k,l){k.find(".tm-se-subscription").click(function(){j(l,$(this).hasClass("tm-se-unsubscribe"))}).end().find(".tm-favorite-on, .tm-favorite-off").click(function(){d(l,$(this).hasClass("tm-favorite-on"))})};var g=function(){if(g.initialized){return}g.initialized=true;if(StackExchange.options.isMobile){return}var n;var k=false;var l=$(".post-tag");$(".post-tag").live("mouseenter",function(){if($(this).attr("href").charAt(0)!="/"){return false}var o=$(this).attr("title","");var p=o.text();if(p.indexOf("*")>-1){return}n=setTimeout(function(){$("#tag-menu").remove();var q=$("<div id='tag-menu'/>").hide().css({position:"absolute",left:o.offset().left+"px",top:(o.offset().top+o.outerHeight()+3)+"px"}).appendTo("body").hover(function(){k=true},function(){k=false;$("#tag-menu").remove()});StackExchange.helpers.addSpinner(q);$.ajax({type:"GET",url:"/tags/"+encodeURIComponent(p)+"/subscriber-info",dataType:"html",success:function(r){c($(""+r).prependTo(q),p)},error:function(s,t,r){},complete:StackExchange.helpers.removeSpinner});q.show()},500);return false});$(".post-tag").live("mouseleave",function(){clearTimeout(n);setTimeout(function(){if(!k){$("#tag-menu").remove()}},100)})};return{applyPrefs:a,init:function(){g();if($("#interestingTags").length==0){return}f(0);$("#ignoredAdd").click(function(){i("#ignoredTag","#ignoredTags",25,"post-tag",true)});$("#interestingAdd").click(function(){i("#interestingTag","#interestingTags",20,"post-tag",true)});$("#hideIgnored").click(function(){h(30,$(this).is(":checked"));a()});bindTagFilterAutoComplete("#ignoredTag");bindTagFilterAutoComplete("#interestingTag")}}})();function sanitizeAndSplitTags(j,a){if(!sanitizeAndSplitTags.noDiac){var c={"àåáâäãåą":"a","èéêëę":"e","ìíîïı":"i","òóôõöøő":"o","ùúûü":"u","çćč":"c","żźž":"z","śşš":"s","ñń":"n","ýŸ":"y","ł":"l","đ":"d","ß":"ss","ğ":"g","Þ":"th"};sanitizeAndSplitTags.noDiac=function(k){for(var i in c){k=k.replace(new RegExp("["+i+"]","g"),c[i])}return k}}j=$.trim(j).replace(/([A-Za-z0-9])\+(?=[A-Za-z0-9])/g,"$1 ");var g=j.split(/[\s|,;]+/);var f=[];for(var d=0;d<g.length;d++){var h=sanitizeAndSplitTags.noDiac(g[d].toLowerCase()).replace(/_/g,"-");var e="[^a-z0-9.#+"+(a?"*":"")+"-]";h=h.replace(new RegExp(e,"g"),"");h=h.replace(/^[#+-]+/,"");h=h.replace(/[.-]+$/,"");if(h.length>0&&$.inArray(h,f)==-1){f.push(h)}}return f}StackExchange.chatAd=(function(){var c,n,k=180,j=30,l=480,h=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];if(/^\/questions\/\d+/i.test(window.location.pathname)){l=0}return{init:function(r){c=r.chatUrl;n=r.reloadUrl;d(r.preloadData,null,null)}};function i(r){return r<10?"0"+r:r}function a(s){var r=new Date();r.setTime(s*1000);return[r.getUTCFullYear(),"-",i(r.getUTCMonth()+1),"-",i(r.getUTCDate())," ",i(r.getUTCHours()),":",i(r.getUTCMinutes()),":",i(r.getUTCSeconds()),"Z"].join("")}function e(u){var y=Math.floor((new Date()).getTime()/1000);var t=y-u;var x=t%60;var w=Math.floor(t/60);var v=Math.floor(t/3600);if(t<1){return"just now"}if(t<60){return x==1?"1 sec ago":x+" secs ago"}if(t<3600){return w==1?"1 min ago":w+" mins ago"}if(t<86400){return v==1?"1 hour ago":v+" hours ago"}var s=Math.floor(t/86400);if(s==1){return"yesterday"}else{if(s<=2){return s+" days ago"}}var r=new Date(u*1000);return h[r.getMonth()]+" "+r.getDate()+" at "+r.getHours()+":"+i(r.getMinutes())}function f(s){var r=$("<div />");r.text(s);return r.html().replace('"',"&quot;")}function g(){$.get(n,null,function(r,t,s){d(r,t,s)})}function p(y){var r=$('<div class="ad502-users" />');for(var u=0;u<y.length&&u<7;u++){var w=y[u];var v=w.name;if(w.lastPost){v+=": "+e(w.lastPost)}var s=c+"/users/"+w.id;var t="http://www.gravatar.com/avatar/"+w.emailhash+"?s=23&d=identicon&r=PG";var x=$('<a href="'+s+'" />');$("<img />").attr("title",v).attr("src",t).appendTo(x);r.append(x)}return r}function q(s){var t=s.user;var r=s.userid;if(r){return'<a href="'+c+"/users/"+r+'">'+f(t)+"</a>"}return f(t)}function o(){if(k<=l){window.setTimeout(g,k*1000)}k+=j}function d(r,z,t){var y=$("#ad502-rooms");if(r.error){o();return}y.html("");var v=r.rooms;for(var s=0;s<v.length&&s<2;s++){var u=v[s];var x=c+"/rooms/"+u.id;var w=$('<div class="ad502-room"></div>');w.append($('<h3 class="ad502-room-h3"><span class="ad502-room-title" title="'+f(u.name)+'"><a href="'+x+'">'+f(u.name)+"</a></span></h3>"));if(u.messages&&u.messages.length>0){w.append($('<span title="'+a(u.lastPost)+'" class="ad502-last-message">'+e(u.lastPost)+" - "+q(u.messages[0])+"</span><br>"))}w.append(p(u.users));y.append(w)}if(r.activeUsers>1){$("#h-chat-link").text(r.activeUsers+" People Chatting")}else{$("#h-chat-link").text("Visit Chat")}$("#h-chat-link").attr("title",r.activeUsers+" users active in "+r.activeRooms+" rooms the last 60 minutes");o()}})();jQuery.cookie=function(j,o,k){if(typeof o!="undefined"){k=k||{};if(o===null){o="";k.expires=-1}var g="";if(k.expires&&(typeof k.expires=="number"||k.expires.toUTCString)){var e;if(typeof k.expires=="number"){e=new Date();e.setTime(e.getTime()+(k.expires*24*60*60*1000))}else{e=k.expires}g="; expires="+e.toUTCString()}var l=k.path?"; path="+(k.path):"";var f=k.domain?"; domain="+(k.domain):"";var n=k.secure?"; secure":"";document.cookie=[j,"=",encodeURIComponent(o),g,l,f,n].join("")}else{var d=null;if(document.cookie&&document.cookie!=""){var c=document.cookie.split(";");for(var h=0;h<c.length;h++){var a=jQuery.trim(c[h]);if(a.substring(0,j.length+1)==(j+"=")){d=decodeURIComponent(a.substring(j.length+1));break}}}return d}};jQuery.expr[":"].regex=function(c,d,e){var f=e[3].split(","),i=/^(data|css):/,a={method:f[0].match(i)?f[0].split(":")[0]:"attr",property:f.shift().replace(i,"")},h="ig",g=new RegExp(f.join("").replace(/^\s+|\s+$/g,""),h);return g.test(jQuery(c)[a.method](a.property))};$.extend($.expr[":"],{containsExact:function(c,d,e){return $.trim(c.innerHTML.toLowerCase())===e[3].toLowerCase()},containsExactCase:function(c,d,e){return $.trim(c.innerHTML)===e[3]},containsRegex:function(c,d,e){var g=/^\/((?:\\\/|[^\/])+)\/([mig]{0,3})$/,f=g.exec(e[3]);return RegExp(f[1],f[2]).test($.trim(c.innerHTML))}});$.extend({URLEncode:function(a){var i="";var k=0;a=a.toString();var j=/(^[a-zA-Z0-9_.]*)/;while(k<a.length){var g=j.exec(a.substr(k));if(g!=null&&g.length>1&&g[1]!=""){i+=g[1];k+=g[1].length}else{if(a[k]==" "){i+="+"}else{var e=a.charCodeAt(k);var f=e.toString(16);i+="%"+(f.length<2?"0":"")+f.toUpperCase()}k++}}return i},URLDecode:function(e){var c=e;var a,f;var d=/(%[^%]{2})/;while((m=d.exec(c))!=null&&m.length>1&&m[1]!=""){b=parseInt(m[1].substr(1),16);f=String.fromCharCode(b);c=c.replace(m[1],f)}return c}});